var key = crypto.randomUUID();
var old_key = crypto.randomUUID();
var key_generator_open_file = "ex.html";
var key_used = false;

function generate_key() {
  var _key = "";
  key = "";
  old_key = "";
  for (var length = 1; length <= 8; length++) {

    var key_gen = Math.floor(Math.random() * 10);
    _key += key_gen;
    key = _key;
    old_key += _key;

  }

  // var key = crypto.randomUUID();
  alert("Your key is " + key);

}

function enter_key() {

  document.getElementById("changeMe").innerHTML = '<input id="key" type="number" name="number" placeholder="Enter the generated key"><br><br><button onclick="use_key()"> Use Key </button>';

}

function use_key() {

  if (document.getElementById("key").value === key) {

    alert("Verification done your key was valid and used now it can't be use more");

    key = crypto.randomUUID();
    key_used = true;

    document.getElementById("changeMe").innerHTML = '<a href="' + key_generator_open_file +  '" id="click">Processing...</a>';
    setTimeout(function() {
      document.getElementById("click").click();
    }, 0001);
    setTimeout(function() {
      document.getElementById("changeMe").innerHTML = "Processed successfully";
    }, 0002);

  }
  
  else {
    alert("ERROR : Invaild key can't use this key . If you don't have a key so click on back and click on generate key and then copy the generated key and paste it here");
  }

}
const Key_Generator = {
  
  create_Verification(){
    
    
    document.write('<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title>Key Generator</title> <!-- HTML --> <!-- Custom Styles --> <style> body{ font-family: monospace, arial; margin: 0px; } nav{ color: white; background: dodgerblue; padding: 30px; text-align: center; font-size: 30px; } button{ color: white; background: dodgerblue; padding: 10px; border: 5px solid dodgerblue; cursor: pointer; outline: none; text-align: center; font-size: 20px; transition: 0.3s; } button:hover{ color: white; background: skyblue; padding: 10px; border: 5px solid skyblue; cursor: pointer; outline: none; text-align: center; font-size: 20px; box-shadow: 5px 5px 10px dimgrey; transition: 0.3s; } button:focus { color: white; background: skyblue; padding: 10px; border: 5px solid skyblue; cursor: pointer; outline: none; text-align: center; font-size: 20px; box-shadow: 5px 5px 10px dimgrey; transition: 0.3s; } button:active { color: white; background: deepskyblue; padding: 10px; border: 5px solid deepskyblue; cursor: pointer; outline: none; text-align: center; font-size: 20px; box-shadow: 5px 5px 10px dimgrey; transition: 0.3s; } input{ border-color: transparent; border-bottom: 2px solid dodgerblue; outline: none; transition: 0.4s; font-size: 25px; padding: 10px; } input:hover{ border-bottom: 5px solid dodgerblue; } input:focus { border-bottom: 5px solid dodgerblue; } </style> </head> <body> <!-- Project --> <div> <nav> Key Generator </nav> </div> <br> <br> <br> <br> <br> <br> <br> <br> <br> <div> <center id="changeMe"> <button onclick="generate_key()">Generate Key</button><br><br> <button onclick="enter_key()">Enter Key</button> </center> </div> </body> <script src="main.js"></script> </html>');
    
  }
  
}
